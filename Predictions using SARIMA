import pandas as pd
import numpy as np
from statsmodels.tsa.arima.model import ARIMA
#import pmdarima as pm
import matplotlib.pyplot as plt
from statsmodels.tsa.stattools import adfuller
from statsmodels.tsa.stattools import acf ,pacf
#from pmdarima import auto_arima
from statsmodels.graphics.tsaplots import plot_acf, plot_pacf
from statsmodels.tsa.statespace.sarimax import SARIMAX

file_path = r'poa_data_Irrr.csv'
data = pd.read_csv(file_path)

data['Date'] = pd.to_datetime(data['Date'], format='%d/%m/%Y')
data.set_index('Date', inplace=True)

data.info()
data.plot(figsize=(12,5))

temp = data['TempAir']
wind_speed = data['Wind_speed']
Ghi = data['Ghi']
dhi = data['dhi']
dni = data['dni']

split_date = data.index[-31]

data_train = data[data.index < split_date].copy()
data_test = data[data.index >= split_date].copy()

# Augmented Dickey-Fuller test
result = adfuller(temp_train)
print(f"ADF Statistic: {result[0]}")
print(f"p-value: {result[1]}")
if result[1] <= 0.05:
    print("Data is stationary (reject null hypothesis)")
else:
    print("Data is NOT stationary (fail to reject null hypothesis)")
